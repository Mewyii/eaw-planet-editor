<ng-container>
  <div class="title-container">
    <h2>Effects</h2>
    <button mat-flat-button [color]="'primary'" (click)="onAddEffectClicked()">add</button>
  </div>

  <div *ngFor="let effect of effects" class="effects-config-container">
    <div class="effects-config-title">{{ effect["@_Name"] }}</div>
    <mat-form-field>
      <mat-label>Effect Type</mat-label>
      <mat-select [(ngModel)]="effect.type">
        <mat-option *ngFor="let abilityType of abilityTypes" [value]="abilityType">{{ abilityType }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field *ngIf="effect.type === 'ProductionPrice'">
      <mat-label>Price Reduction</mat-label>
      <input
        matInput
        name="priceReduction"
        type="number"
        [(ngModel)]="effect.Price_Reduction_Percentage"
        (change)="onEffectChanged()"
      />
    </mat-form-field>
    <mat-form-field *ngIf="effect.type === 'ProductionTime'">
      <mat-label>Time Reduction</mat-label>
      <input
        matInput
        name="timeReduction"
        type="number"
        [(ngModel)]="effect.Time_Reduction_Percentage"
        (change)="onEffectChanged()"
      />
    </mat-form-field>
    <mat-form-field>
      <mat-label>Applicable Categories</mat-label>
      <input
        matInput
        name="applicableCategories"
        type="string"
        [(ngModel)]="effect.Applicable_Unit_Categories"
        (change)="onEffectChanged()"
      />
    </mat-form-field>
    <mat-form-field>
      <mat-label>Applicable Types</mat-label>
      <input
        matInput
        name="applicableTypes"
        type="string"
        [(ngModel)]="effect.Applicable_Unit_Types"
        (change)="onEffectChanged()"
      />
    </mat-form-field>
    <mat-form-field>
      <mat-label>Stacking Category</mat-label>
      <input
        matInput
        name="stackignCategory"
        type="number"
        [(ngModel)]="effect.Stacking_Category"
        (change)="onEffectChanged()"
      />
    </mat-form-field>
    <button mat-icon-button color="primary" (click)="onDeleteEffectClicked(effect)">
      <mat-icon>delete</mat-icon>
    </button>
  </div>
</ng-container>
